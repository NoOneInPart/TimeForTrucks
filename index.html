
<!DOCTYPE html>
<html>

<head>

	<title>Clock</title>

	<!--Scales the website for mobile devices and specifies the charset-->
	<meta name="viewport" content="width=device-width, initial-scale=1.0" charset="utf-8">

	<link rel="stylesheet" type="text/css" href="CSS/Lun_Gabhi_Chinta_JS_Clock.css">
	<link rel="SHORTCUT ICON" href="Images/Lun_Clock.png">

</head>

<body>

	<canvas id="c"></canvas>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/102/three.js"></script>
	<script type="module">
		import * as THREE from 'https://threejsfundamentals.org/threejs/resources/threejs/r125/build/three.module.js';
		import {OBJLoader} from 'https://threejsfundamentals.org/threejs/resources/threejs/r125/examples/jsm/loaders/OBJLoader.js';

		function main() {
		const canvas = document.querySelector('#c');
		const renderer = new THREE.WebGLRenderer({canvas});
		renderer.setClearColor('#dfd1b8');

		const fov = 75;
		const aspect = 2;  
		const near = 0.1;
		const far = 5;
		const camera = new THREE.PerspectiveCamera(fov, aspect, near, far);
		camera.position.z = 2;

		const scene = new THREE.Scene();

		{
			const color = 0xFFFFFF;
			const intensity = 1;
			const light = new THREE.DirectionalLight(color, intensity);
			light.position.set(-1, 2, 4);
			scene.add(light);
		}

		const boxWidth = 1;
		const boxHeight = 1;
		const boxDepth = 1;
		const geometry = new THREE.BoxGeometry(boxWidth, boxHeight, boxDepth);

		{
			const objLoader = new OBJLoader();
			objLoader.load('Models/truck/truck.obj', (root) => {
				scene.add(root);
			});
		}

		function makeInstance(geometry, color, x) {
			const material = new THREE.MeshPhongMaterial({color});

			const cube = new THREE.Mesh(geometry, material);
			scene.add(cube);

			cube.position.x = x;

			return cube;
		}

		const cubes = [
			makeInstance(geometry, 0xf59637,  0),
		];

		function resizeRendererToDisplaySize(renderer) {
			const canvas = renderer.domElement;
			const width = canvas.clientWidth;
			const height = canvas.clientHeight;
			const needResize = canvas.width !== width || canvas.height !== height;
			if (needResize) {
			renderer.setSize(width, height, false);
			}
			return needResize;
		}

		function render(time) {
			time *= 0.001;

			if (resizeRendererToDisplaySize(renderer)) {
			const canvas = renderer.domElement;
			camera.aspect = canvas.clientWidth / canvas.clientHeight;
			camera.updateProjectionMatrix();
			}

			cubes.forEach((cube, ndx) => {
			const speed = 1 + ndx * .1;
			const rot = time * speed;
			cube.rotation.z = rot;
			cube.rotation.y = rot;
			cube.rotation.x = rot;
			});

			renderer.render(scene, camera);

			requestAnimationFrame(render);
		}

		requestAnimationFrame(render);
		}

		main();

	</script>
	<script src="JS/Lun_Gabhi_Chinta_JS_Clock.js"></script>

</body>

</html>

<!--------------------------------------------------------------------BIBLIOGRAPHY------------------------------------------------------------------
‌“Creating a Live CSS Clock Using CSS3 and RequestAnimationFrame().” Www.javascriptkit.com, 2016, www.javascriptkit.com/dhtmltutors/css3clock.shtml.
‌W3Schools. “JQuery Css() Method.” Www.w3schools.com, 2021, www.w3schools.com/jquery/jquery_css.asp.
‌W3Schools. “JQuery Clone() Method.” Www.w3schools.com, 2021, www.w3schools.com/jquery/html_clone.asp.
‌
---------------------------------------------------------------------------------------------------------------------------------------------------->